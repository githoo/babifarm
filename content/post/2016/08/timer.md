+++
categories = ["技术"]
date = "2016-08-28T13:06:46-07:00"
draft = false
slug = ""
tags = ["思考"]
title = " 定时器设计思想 "

+++

## 设计思想

关键环节：

- 周期 cycle
- 刻度 index
- 任务 task

- 1、计时器

      系统时间（纳秒级）自增，维持一个执行周期C和当前index值I  (C ，I)

- 2、任务表  (I,(C,T))

     按任务初始化一个任务周期表（环形）
     表中每个刻度I存放任务映射关系：周期C和定时任务T

- 3、刻度

     任务执行的时间精度

- 4、定时机器类型模型 不同的精度有不停的模型

	如小时精度，一天24个小时，类似手表，可以映射到12个小时，1~12小时，12个刻度
	任务T1要每隔7天的3点执行，(7*24+3)/12  14个周期+3小时 ，这个任务在任务表的设置（C=14 ，I=3 ，T=T1）
